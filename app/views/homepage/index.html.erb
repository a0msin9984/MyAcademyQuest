<div class="w-full min-h-screen bg-white relative
            grid grid-cols-1 md:grid-cols-2">
  <!-- ส่วนซ้าย (โปรไฟล์/ชื่อ สลับเป็น 1 คอลัมน์บน mobile) -->
  <div class="w-full h-full flex flex-col items-center justify-center relative
              md:items-center md:justify-center">
    <!-- paper อยู่มุมบนซ้ายหรือขวาตามหน้าจอ -->
    <%= image_tag "paper.png", alt: "paper",
          class: "absolute top-0 left-0 w-20 h-20 object-cover
                  md:w-30 md:h-30" %>
    <!-- profile อยู่กลาง -->
    <div class="relative mt-4 md:mt-0">
      <div class="w-50 h-70 mx-auto bg-white overflow-hidden md:w-120 md:h-140 flex items-center justify-center">
        <%= image_tag "My-profile.png", alt: "profile_picture", class: "w-full h-full object-cover" %>
      </div>
    </div>
    <!-- ข้อความใต้รูป -->
    <div class="flex flex-col items-center md:items-start mt-4 md:mt-10 px-6 md:px-20 w-full">
      <div class="flex flex-row items-center md:w-auto w-full">
        <div class="w-1 h-8 md:h-25 bg-zinc-700 mr-2 md:mr-4"></div>
        <div class="text-left">
          <p class="font-bold text-lg md:text-3xl leading-tight">
            THANAPHAT<br>
            SATITKUNRUS
          </p>
          <p class="font-normal text-sm md:text-lg text-zinc-700">Cafeine Team</p>
        </div>
      </div>
    </div>
    <%= link_to 'ไปหน้า Brag Doc', bragdocs_index_path, class: 'btn btn-primary' %>
  </div>
  <!-- ส่วนขวา (mobile: อยู่ใต้โปรไฟล์) -->
  <div class="w-full h-full relative flex flex-col px-4 md:px-0">
    <!-- เส้นแนวตั้ง เฉพาะ md ขึ้นไป -->
    <div class="hidden md:block absolute left-0 top-0 h-full w-0.5 bg-zinc-300 shadow-[0_0_20px_3px_rgba(0,0,0,0.5)]"></div>
    <!-- "ACADEMY QUEST" บน desktop -->
    <div class="hidden md:flex mt-26 self-start px-20">
      <div class="w-1 h-12 bg-zinc-700 mr-4"></div>
      <div class="text-left">
        <p class="font-bold text-4xl">My Academy Quest</p>
      </div>
    </div>
    <!-- "ACADEMY QUEST" บน mobile อยู่บน profile แล้ว -->
    <div class="block md:hidden mt-12 mb-4 text-left font-bold text-2xl">My Academy Quest</div>
    <!-- Tasks List -->
    <div class="bg-white w-full md:w-full h-96 md:h-130 rounded-lg mt-2 md:mt-0">
      <div id="tasks_list"
       class="h-96 md:h-130 overflow-y-auto px-0 md:ml-20">
        <% if (@tasks || []).empty? %>
          <div class="text-gray-400 text-lg mt-12 text-center">
            No quest yet. Add your first quest!
          </div>
        <% else %>
          <% (@tasks || []).each do |task| %>
            <div id="<%= dom_id(task) %>"
             class="task-item w-full max-w-sm h-14 md:w-[48rem] md:max-w-[90%] md:h-18 bg-white mt-4 md:mt-5 rounded-lg shadow-lg border <%= task.completed ? 'border-gray-500 ' : 'border-gray-300' %> flex items-center px-2 md:px-4"> <!-- ตัด mx-auto ออก -->
              <%= button_to toggle_task_path(task), method: :patch, data: { turbo_method: :patch },
            class: "w-10 h-10 rounded-full flex items-center justify-center border #{task.completed ? 'border-gray-500' : 'bg-white border-gray-300'}" do %>
                <% if task.completed %>
                  <%= image_tag "check.svg", alt: "check_btn", class: "w-8 h-8" %>
                <% end %>
              <% end %>
              <p class="font-light text-base md:text-2xl ml-2 md:ml-4 flex-grow <%= 'line-through text-gray-400' if task.completed %>">
                <%= task.title %>
              </p>
              <%= button_to task_path(task), method: :delete, data: { turbo_confirm: "Are you sure?", testid: "delete-task-btn" }, class: "p-0 bg-transparent border-0 hover:bg-gray-200 rounded-full flex items-center" do %>
                <%= image_tag "close-x.svg", alt: "cancel_btn", class: "w-8 h-8 opacity-40 hover:opacity-100 transition" %>
              <% end %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
    <% if @task.errors.any? %>
      <div class="text-red-500 mt-2">
        <ul>
          <% @task.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <!-- Input อยู่ด้านล่างสุด (mobile) / มีระยะห่าง desktop -->
    <%= form_with model: @task, url: root_path, method: :post, local: true do |form| %>
      <div class="mt-8 md:mt-4 mb-6 w-full h-14 md:ml-20 md:mr-15 md:w-auto md:h-18 bg-white rounded-lg border border-black flex items-center shadow-lg shadow-gray-500/20">
        <%= form.text_field :title, placeholder: "Add your Quest here", class: "flex-grow bg-transparent outline-none text-gray-500 placeholder-gray-400 text-base md:text-2xl ml-4 md:ml-8" %>
        <button type="submit" class="w-11 h-11 md:w-12 md:h-12 rounded-full bg-white flex items-center justify-center mr-2" data-testid="add-task-btn">
          <%= image_tag "send.svg", alt: "check_btn", class: "w-8 h-8 md:w-14 md:h-14" %>
        </button>
      </div>
    <% end %>
  </div>
</div>